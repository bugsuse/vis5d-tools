<HTML><HEAD><TITLE>
 GETSTAZDBL4
</TITLE></HEAD><BODY>
<H2 ALIGN="center">getstazdbl4</H2> <HR>
 <P>
Il sorgente si trova in: <A HREF="file:/automount/nfs/disk3/patruno/lib/mega/getstazdbl.f">/disk3/patruno/lib/mega/getstazdbl.f</A> <HR>
<PRE>
	SUBROUTINE GETSTAZDBL4(IWMO,ANOME,HHPOZ,ALAT,ALON,COD,IER)
	
	Serve ad associare ad una stazione i relativi parametri anagrafici
	Letti nell' archivio MATREP
	Se il record risulta allocato da un altro utente ne attende la
	liberazione.
	Esegue un primo accesso a chiave dopo di che, se la stazione richiesta
	e` superiore a quella precedentemente estratta, scorre il file delle
	stazioni in modo sequenziale fino a reperire quella richiesta.
	Se si richiede un nuovo accesso con
	un numero di codice piu` piccolo viene ripetuto un nuovo accesso a
	chiave.

	ESEGUE UN PRIMO ACCESSO A CHIAVE E POI PROSEGUE SEQUENZIALE
	utile solo per scandire le stazioni in maniera ordinata


	Input	:	IWMO	= I*4	Codice W.M.O. stazione

	Output	:	ANOME   = C*24	Nome della stazione
			HHPOZ	= R*4   Altezza del pozzetto (m.)
			ALAT	= R*4	Latitudine ( Gradi,primi)
			ALON	= R*4	Longitudine (Gradi,primi)
			COD(18)	= I*4	codici sensori
			IER	= I*4	0=O.K.; &gt;0=errore fatale;
					&lt;0=segnalazione errore triviale

	COMMON	Utilizzati	: /CONTRO/	CONTRO(17) CONTIENE IL NUMERO DI
						UNITA` DA UTILIZZARE

	Chiamate 		: GETSTAZDBL,GETSTAZDBL2

	Torna con HHSLM,HHPOZ,ALAT,ALON = -9999.9 se non recupera la stazione
	IER=-2	record non trovato
	IER=0	tutto O.K.
	IER=1	errore apertura file archivio stazioni o errore lettura record
	IER=2	fine file
	IER=3	altri errori su lettura record
</PRE>
<P>
<A HREF="index.html">Torna all'indice</A><P>
<A HREF="../index.html">Torna alla voce superiore</A><P>
</BODY></HTML>
